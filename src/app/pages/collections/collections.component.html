<div *ngFor="let col of collections let i = index"  [style.background-image]="'url('+col.backgroundImgLink+')'">
  <ng-container *ngIf="edit!=i else editTemplate">
    <div class="collection">
      <h3 class="title">{{col.title}} with id {{col.id}}</h3>
      <button class="edit-btn" (click)="enterEditMode(i, col)">EDIT</button>
      <p class="description">{{col.description}}</p>
      <button disabled class="privacy-btn" [ngStyle]="{'background-color': col.hiddenStatus?.toString() == 'Private' || col.hiddenStatus == 1 ? 'red' : 'green' }"></button>

    </div>
  </ng-container>
  <ng-template #editTemplate>
    <form class="collection" #editForm="ngForm" (ngSubmit)="saveEdits()">
      <input name="title" required [(ngModel)]="editingCollection.title" #title="ngModel">
      <div [hidden]="title.valid || title.pristine"
           class="alert alert-danger">
        Title can't be empty
      </div>
      <button class="edit-btn" (click)="cancelEdits()">Cancel</button>
      <button [disabled]="!editForm.form.valid" class="edit-btn" type="submit">CONFIRM</button>
      <input name="description" [(ngModel)]="editingCollection.description">
      <button class="privacy-btn" (click)="switchHiddenStatus()" [ngStyle]="{'background-color': editingCollection.hiddenStatus?.toString() == 'Private' || editingCollection.hiddenStatus == 1 ? 'red' : 'green' }"></button>
    </form>
  </ng-template>
</div>
